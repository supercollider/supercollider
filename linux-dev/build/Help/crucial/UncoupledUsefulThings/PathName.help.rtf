{\rtf1\mac\ansicpg10000\cocoartf102
{\fonttbl\f0\fswiss\fcharset77 Helvetica-Bold;\f1\fswiss\fcharset77 Helvetica;\f2\fnil\fcharset77 Monaco;
}
{\colortbl;\red255\green255\blue255;\red0\green0\blue191;\red96\green96\blue96;\red191\green0\blue0;
}
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\ql\qnatural

\f0\b\fs36 \cf0 PathName
\f1\b0\fs18  							
\f0\b // AdC, July 2000.
\f1\b0 \
\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\ql\qnatural

\f0\b\fs24 \cf0 superclass: Object\

\f1\b0 \
PathName is a utility Class for manipulating file names and paths. \
It expects a path to a file, and lets you access parts of that file path.\
\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\ql\qnatural

\f0\b\fs28 \cf0 Creation
\f2\b0\fs18 \
\
*new(path)\
\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\ql\qnatural

\f1\fs24 \cf0 path is a String which likely contains one or more /  as typical for folder separation. \
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\ql\qnatural

\f2\fs18 \cf0 \
\cf2 PathName\cf0 .new(\cf3 "MyDisk/SC 2.2.8 f/Sounds/FunkyChicken"\cf0 ); \
\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\ql\qnatural

\f1\fs24 \cf0 ~ will be converted to your fully addressed home directory.  Symbolic Links will be expanded, as per String-standardizePath.\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\ql\qnatural

\f2\fs18 \cf0 \
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\ql\qnatural

\f0\b\fs28 \cf0 Instance Methods\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\ql\qnatural

\f2\b0\fs18 \cf0 \
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\ql\qnatural

\f0\b\fs24 \cf0 fileName
\f2\b0\fs18  \
\

\f1\fs24 returns just the name of the file itself; i.e. \
everything after the last slash in the full path.\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\ql\qnatural

\f2\fs18 \cf0 \
(\
var myPath;\
myPath = PathName.new("MyDisk/SC 2.2.8 f/Sounds/FunkyChicken"); \
myPath.fileName.postln; \
)\
\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\ql\qnatural

\f0\b\fs24 \cf0 pathOnly
\f2\b0\fs18  \
\

\f1\fs24 returns the full path up to the file name itself; i.e. \
everything up to and including  the last slash. \
This is handy e.g. for storing several files in the same folder.\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\ql\qnatural

\f2\fs18 \cf0 \
(\
var myPath;\
myPath = PathName.new("MyDisk/SC 2.2.8 f/Sounds/FunkyChicken"); \
myPath.pathOnly.postln; \
)\
\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\ql\qnatural

\f0\b\fs24 \cf0 isRelativePath\
isAbsolutePath\
asRelativePath\

\f1\b0 	you MUST have correctly initialized the scroot classvar for this\
	to know what it is relative to !\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\ql\qnatural

\f2\fs18 \cf0 \
\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\ql\qnatural

\f0\b\fs24 \cf0 folderName
\f2\b0\fs18  \
\

\f1\fs24 returns only the name of the folder that the file is in; \
i.e. everything in between the last but one and the last slash. \
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\ql\qnatural

\f2\fs18 \cf0 \
(\
\cf2 var\cf0  myPath;\
myPath = \cf2 PathName\cf0 .new(\cf3 "MyDisk/SC 2.2.8 f/Sounds/FunkyChicken"\cf0 ); \
myPath.folderName.postln; \
)\
\
\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\ql\qnatural

\f0\b\fs24 \cf0 fullPath
\f2\b0\fs18 \

\f1\fs24 returns the full path name that PathName contains.\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\ql\qnatural

\f2\fs18 \cf0 \
(\
\cf2 var\cf0  myPath;\
myPath = \cf2 PathName\cf0 .new(\cf3 "MyDisk/SC 2.2.8 f/Sounds/FunkyChicken"\cf0 ); \
myPath.fullPath.postln; \
)\
\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\ql\qnatural

\f0\b\fs24 \cf0 allFolders
\f2\b0\fs18 \
\

\f1\fs24 returns a list of all the folder names in the pathname.\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\ql\qnatural

\f2\fs18 \cf0 \
(\
\cf2 var\cf0  myPath;\
myPath = \cf2 PathName\cf0 .new(\cf3 "MyDisk/SC 2.2.8 f/Sounds/FunkyChicken"\cf0 ); \
myPath.allFolders.postln; \
)\
\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\ql\qnatural

\f0\b\fs24 \cf0 diskName
\f2\b0\fs18 \

\f1\fs24 if path is an absolute path, returns the disk name; else a blank string.\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\ql\qnatural

\f2\fs18 \cf0 \
(\
\cf2 var\cf0  myPath;\
myPath = \cf2 PathName\cf0 .new(\cf3 "MyDisk/SC 2.2.8 f/Sounds/FunkyChicken"\cf0 ); \
myPath.diskName.postln; \
)\
\
( \cf4 // note the / at the start\
\cf2 var\cf0  myPath;\
myPath = \cf2 PathName\cf0 .new(\cf3 "/MyDisk/SC 2.2.8 f/Sounds/FunkyChicken"\cf0 ); \
myPath.diskName.postln; \
)\
\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\ql\qnatural

\f0\b\fs24 \cf0 endNumber
\f2\b0\fs18  \

\f1\fs24 returns a number at the end of PathName.\
Returns zero if there is no number.\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\ql\qnatural

\f2\fs18 \cf0 \
\cf2 PathName\cf0 (\cf3 "floating1"\cf0 ).endNumber.postln; \
\
\cf2 PathName\cf0 (\cf3 "floating"\cf0 ).endNumber.postln; \
\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\ql\qnatural

\f0\b\fs24 \cf0 noEndNumbers
\f2\b0\fs18 \

\f1\fs24 returns fullPath without any numbers at the end.\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\ql\qnatural

\f2\fs18 \cf0 \
\cf2 PathName\cf0 (\cf3 "floating1"\cf0 ).noEndNumbers.postln; \
\
\cf2 PathName\cf0 (\cf3 "floating"\cf0 ).noEndNumbers.postln; \
\
\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\ql\qnatural

\f0\b\fs24 \cf0 nextName
\f2\b0\fs18 \

\f1\fs24 generates a sensible next name for a file\
by incrementing a number at the end of PathName, \
or by adding one if there is none.\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\ql\qnatural

\f2\fs18 \cf0 \
\
\cf2 PathName\cf0 (\cf3 "floating34"\cf0 ).nextName.postln; \
\
\cf2 PathName\cf0 (\cf3 "floating"\cf0 ).nextName.postln; \
\
\cf2 PathName\cf0 (\cf3 "floating12_3A4X_56.7"\cf0 ).nextName.postln; \
\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\ql\qnatural

\f1\fs24 \cf0 This is useful for recording files with consecutive names, \
and e.g. to generate a new filename when you don't want to \
overwrite an existing file with the current name.\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\ql\qnatural

\f2\fs18 \cf0 \
\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\ql\qnatural

\f1\fs24 \cf0 Here is an example that uses many instance methods. \
Just pick any file to see all the parts of its path.\
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\ql\qnatural

\f2\fs18 \cf0 \
\pard\tx560\tx1120\tx1680\tx2240\tx2800\tx3360\tx3920\tx4480\tx5040\tx5600\tx6160\tx6720\ql\qnatural
\cf4 /*\
(\
GetFileDialog.new(\
	\{ arg ok, path; \
	var myPathName; \
	if (ok, \
		\{ \
			 myPathName = PathName.new(path); \
	 \
			 "New PathName object/   ".postc;\
			 myPathName.postln; \
			 \
			 "fileName only/   ".postc;\
			 myPathName.fileName.postln; \
			 \
			 "path up to file only/   ".postc;\
			 myPathName.pathOnly.postln; \
			\
			 "folder Name/   ".postc;\
			 myPathName.folderName.postln; \
		\}\
	)\
	\}\
)\
)\
\
\
Choose a soundfile to put into the library, \
using its foldername and filename/\
\
(\
GetFileDialog.new(\
	\{ arg ok, path; \
	var myPathName, myFile; \
	if (ok, \
		\{ \
			myPathName = PathName.new(path); \
			\
			// read your file from disk, e.g. a soundFile/ \
			\
			myFile = SoundFile.new; 	\
			if (myFile.readHeader(path), \
				\{ 	\
					Library.put(\
						[ myPathName.folderName.asSymbol, myPathName.fileName.asSymbol ],\
						myFile); \
					("Check LibMenu/ " ++ myPathName.folderName ++ " please.").postln;\
				\}, \
				\{ ("Could not read soundfile " ++ path ++ ".").postln; \}\
			);\
		\}\
	)\
	\}\
)\
)\
\
\
Save three tables in the same folder:\
 Note: The file name chosen in the dialog is ignored!\
 The files are always named table1, table2, table3. \
(\
var table1, table2, table3; \
\
table1 = Wavetable.sineFill(1024, [1,2,3]);\
table2 = Signal.newClear.asWavetable;\
table3 = Wavetable.sineFill(1024, Array.rand(64, 0.0, 1.0));\
\
PutFileDialog.new(\
	"Pick a folder for tables1-3/", "table1",\
	\{ arg ok, path; \
	var myPathName, myPathOnly; \
	if (ok, \
		\{ \
			myPathName = PathName.new(path); \
			\
			myPathOnly = myPathName.pathOnly; \
			\
			table1.write(myPathOnly ++ "table1");\
			table2.write(myPathOnly ++ "table2");\
			table3.write(myPathOnly ++ "table3");\
		\}\
	)\
	\}\
)\
)\
\
\
*/\cf0 \
\
}